<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<script>
function searchUser(){
	 var elem=document.getElementById("txtid").value;
	  if(isNaN(id)){
		  alert("EID is not a number");
	  }
	  else{
		  doAjax(id);	 
		}
}
function doAjax(id){
	  var ajax=new XMLHttpRequest();
	  var url="http://localhost:8080/AjaxDemo1/products.json";
	  ajax.open("GET",url,true);
	  ajax.send();
	  ajax.onreadystatechange=function(){
		  if(ajax.readyState==4 && ajax.status==200){
			  var str=ajax.responseText;
			  var json=JSON.parse(str);
			  
			  if(json.id!==undefined){
				document.getElementById("tbl1").style.display="block";
				document.getElementById("tuid").innerHTML=json.id;
				document.getElementById("tuname").innerHTML=json.name;
				document.getElementById("temail").innerHTML=json.email;
				document.getElementById("tcity").innerHTML=json.address.city;
				document.getElementById("tcompany").innerHTML=json.company.name;
			  }			  
			  else{
				 
			  }
		  }else{
			  document.getElementById("tbl1").style.display="none";
			  document.getElementById("err").style.display="block";
			  document.getElementById("err").innerHTML="User not found"+id;
			  
		  }
	  };
}
</script>
<body>
<h1 align="center">User Details</h1>
<hr/>
<div align="center">
Product ID: <input type="text" id="txtid"/>
			<select onchange="search(this.value)">
					<option value="hr">hr</option>
					<option value="pr">pr</option>
					<option value="finance">finance</option>
			</select>
<input type="button" value="search" onclick="search()"/>
</div>
<div id="err"></div>
<table id="tbl1" cellpadding="10" bgcolor="cyan" style="margin:0px auto;display:none;width:300px" >
	    <tr>
			<td>User ID</td>
			<td id="tuid"></td>
		</tr>
		<tr>
			<td>User Name</td>
			<td id="tuname"></td>
		</tr>
		<tr>
			<td>Email</td>
			<td id="temail"></td>
		</tr>
		<tr>
			<td>City</td>
			<td id="tcity"></td>
		</tr>
		<tr>
			<td>Company Name</td>
			<td id="tcompany"></td>
		</tr>
	</table>
</body>
</html>