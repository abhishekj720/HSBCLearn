<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<style>
	#err{
		color:red;
		text-align:center;
	}
	
	tr:nth-child(odd){
		background-color: red;
		color: white;
	}
	
	tr:nth-child(even){
		background-color: #4698c8;
		color:white;
	}

</style>

<script>
	function searchUser(){
		 var id = document.getElementById("textid").value;
		  if(isNaN(id)){
			  alert("Eid is not a number");
			  
		  } else{
			  doAjax(id);
		  }
		
	}
	/* https://jsonplaceholder.typicode.com/users  */
	/* http://localhost:8080/AjaxDemo/emps.json  */ 
	 function doAjax(id){
		  var ajax = new XMLHttpRequest();
		  var url = "https://jsonplaceholder.typicode.com/users/" +id ;
		  ajax.open("GET", url,true);
		  ajax.send();
		  ajax.onreadystatechange = function(){
			  if(ajax.readyState == 4 && ajax.status ==200){
				  var str = ajax.responseText;
				  var json = JSON.parse(str);
				  
				  if(json.id !== undefined){
					  document.getElementById("tbl1").style.display="block";
					  document.getElementById("err").style.display="none";
					  
					  document.getElementById("tuid").innerHTML = json[id].id;
					  document.getElementById("tuname").innerHTML = json[id].username;
					  document.getElementById("temail").innerHTML = json[id].email;
					  document.getElementById("tcity").innerHTML = json[id].city;
					  document.getElementById("tcompany").innerHTML = json[id].company;
					  
				  } else{
					  document.getElementById("tbl1").style.display="none";
					  document.getElementById("err").style.display="block";
					  document.getElementById("err").innerHTML="User not found" + id;
				  }
				  
			  }
			  
		  }
	  };


</script>



</head>
<body>

<h1 align = "center">User Details</h1>
<hr/>
<div align = "center">
	User ID<input type = "text" id = "txtid">
	<input type = "button" value = "search user" onclick="searchUser()">
	</div>
	
<div id ="err"></div>
   <table id = "tbl1" cellpadding="10" bgcolor="cyan" style="margin:0px auto; display:none; width:2 00px">
	    <tr>
			<td>Product ID</td>
			<td id="tuid"></td>
		</tr>
		<tr>
			<td>User Name</td>
			<td id="tuname"></td>
		</tr>
		<tr>
			<td>Email</td>
			<td id="temail"></td>
		</tr>
		
		<tr>
			<td>City</td>
			<td id="tcity"></td>
		</tr>
		
		<tr>
			<td>Company Name</td>
			<td id="tcompany"></td>
		</tr>
		
	</table>


</body>
</html>